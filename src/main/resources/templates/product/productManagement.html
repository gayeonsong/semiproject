<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:replace="~{fragments/hqLayout::hqLayout(~{this::header},~{this::body})}">
<div th:fragment="header" style="display: flex; flex-direction: row">
    <div>
        <p id="pageName">상품 관리</p>
        <p id="pageDescription">상품 등록 및 재고 현황을 관리합니다.</p>
    </div>
    <div style="position: fixed; right: 2em; top: 4em;">
        <button><a>카테고리 등록</a></button>
        <button><a th:href="@{/product/productInsert}">상품등록</a></button>
    </div>

</div>
<div th:fragment="body">
    <style>
        .productList{list-style: none; display: inline-block;}
    </style>
<table th:border="1">
    <caption style="text-align: left">상품 목록</caption>
    <thead>
        <tr>
            <th>상품번호</th>
            <th>이미지</th>
            <th>카테고리</th>
            <th>상품명</th>
            <th>재고</th>
            <th>상태</th>
            <th>관리</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="l:${productList}">
            <td th:text="${l.product_id}"></td>
            <td><img th:attr="src='/product/showProductImage?image_path='+${l.image_path}" style="width: 2.5em;height: 2.5em"></td>
            <td th:text="${l.parentCategoryName}+'>'+${l.childCategoryName}+'>'+${l.category_name}"></td>
            <td><a th:text="${l.product_name}"></a></td>
            <td th:text="${l.hq_quantity}"></td>
            <td>
                <span id="status" th:text="${l.status}"
                      th:style="${l.status=='부족'?'background-color:orange':(l.status=='품절'?'background-color:red':'background-color:begie')}" ></span>
            </td>
            <td>
                <a th:href="@{/product/productDetail(product_id=${l.product_id})}">상세</a>&#47
                <a>수정</a>
            </td>
        </tr>
    </tbody>
</table>
    <ul class="productList">
        <li th:if="${pageInfo.startPageNum}>1" class="productList">
            <a th:href="@{/product/productManagement(pageNum=${pageInfo.startPageNum}-1)}">이전</a>
        </li>
        <li th:each="p:${#numbers.sequence(pageInfo.startPageNum,pageInfo.endPageNum)}"class="productList">
            <a th:href="@{/product/productManagement(pageNum=${p})}">[[${p}]]</a>
        </li>
        <li th:if="${pageInfo.endPageNum<pageInfo.totalPageNum}" class="productList">
            <a th:href="@{/product/productManagement(pageNum=${pageInfo.endPageNum}+1)}">다음</a>
        </li>
    </ul>
</div>
</div>
</html>
